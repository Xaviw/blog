(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{571:function(e,t,o){"use strict";o.r(t);var v=o(12),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("最近在复习过程中看到了位置相关属性（即 client、scroll、offset 以及 window 中的几个位置值），发现这几个随时可能用的属性一直没记牢过。在网上搜索几篇文章看下来后却发现越来越迷糊，主要争论在 clientHeight 上：")]),e._v(" "),o("ul",[o("li",[e._v("一些说 clientHeight 是元素的可见高度")]),e._v(" "),o("li",[e._v("一些说 clientHeight 是元素的完整高度\n本着实践出真知的原则，干脆自己动手研究，顺便记录分享")])]),e._v(" "),o("h2",{attrs:{id:"直接说结论"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#直接说结论"}},[e._v("#")]),e._v(" 直接说结论")]),e._v(" "),o("blockquote",[o("p",[e._v("以下的 content，指标准盒模型的 content 部分的宽度或高度(具体范围查看文末图示)；"),o("br"),e._v("\npadding、border、滚动条，指各自的宽度（厚度），值不对称时将*2 改为相加；"),o("br"),e._v("\n内容，指子元素的总渲染宽度或高度。")])]),e._v(" "),o("ol",[o("li",[e._v("client 系列（均为只读）\n"),o("ul",[o("li",[o("code",[e._v("clientHeight")]),e._v("与"),o("code",[e._v("clientWidth")]),e._v(" "),o("blockquote",[o("p",[e._v("content + padding*2 - 滚动条\n即盒模型 border 内矩形的宽高")])])]),e._v(" "),o("li",[o("code",[e._v("clientLeft")]),e._v("与"),o("code",[e._v("clientTop")]),e._v(" "),o("blockquote",[o("p",[e._v("border [+ 滚动条]\n即 border 的宽度。rtl 模式下左边框挨着垂直滚动条，则需要加上滚动条")])])])])]),e._v(" "),o("li",[e._v("scroll 系列（scrollTop、scrollLeft 可写）\n"),o("ul",[o("li",[o("code",[e._v("scrollHeight")]),e._v("与"),o("code",[e._v("scrollWidth")]),e._v(" "),o("blockquote",[o("p",[e._v("padding*2 + 内容 - 滚动条\n即 border 内的宽高，包括溢出不可见部分")])])]),e._v(" "),o("li",[o("code",[e._v("scrollLeft")]),e._v("与"),o("code",[e._v("scrollTop")]),e._v("值等于\n"),o("blockquote",[o("p",[e._v("文档流起点方向上被滚动条隐藏的 "),o("strong",[e._v("内容+padding")]),e._v(" 大小\nrtl 模式下水平滚动条右边为起点 0，滚动后 scrollLeft 为负值。也就是正常模式下，scrollLeft 是被滚动隐藏的左边部分内容+padding；rtl 模式下为右边部分被隐藏的内容+padding，且为负值")])])])])]),e._v(" "),o("li",[e._v("offset 系列（均为只读）\n"),o("ul",[o("li",[o("code",[e._v("offsetParent")]),e._v(" "),o("blockquote",[o("p",[e._v("指向最近包含该元素的定位元素或者最近的  "),o("code",[e._v("table,td,th,body")]),e._v("元素。当元素的  "),o("code",[e._v("style.display")]),e._v("  设置为 "),o("code",[e._v("none")]),e._v(" 时，"),o("code",[e._v("offsetParent")]),e._v("  返回  "),o("code",[e._v("null")])])])]),e._v(" "),o("li",[o("code",[e._v("offsetHeight")]),e._v("与"),o("code",[e._v("offsetWidth")]),e._v(" "),o("blockquote",[o("p",[e._v("border*2 + padding*2 + content\n即元素被完整撑开后的宽高")])])]),e._v(" "),o("li",[o("code",[e._v("offsetLeft")]),e._v("与"),o("code",[e._v("offsetTop")]),e._v(" "),o("blockquote",[o("p",[e._v("元素 border 外框线，到 offsetParent 的 margin 外框线的距离\noffsetParent 为 null 时，值为 0")])])])])]),e._v(" "),o("li",[e._v("window 系列（均为只读）\n"),o("ul",[o("li",[o("code",[e._v("innerHeight")]),e._v("与"),o("code",[e._v("innerWidth")]),e._v(" "),o("blockquote",[o("p",[e._v("视口的宽高，包括滚动条")])])]),e._v(" "),o("li",[o("code",[e._v("outerHeight")]),e._v("与"),o("code",[e._v("outerWidth")]),e._v(" "),o("blockquote",[o("p",[e._v("整个浏览器的宽高，包括浏览器的菜单栏、标题栏等")])])]),e._v(" "),o("li",[o("code",[e._v("scrollX")]),e._v("（别名"),o("code",[e._v("pageXOffset")]),e._v("）与"),o("code",[e._v("scrollY")]),e._v("（别名"),o("code",[e._v("pageYOffset")]),e._v("）\n"),o("blockquote",[o("p",[e._v("与 scrollLeft、scrollTop 相似，只是目标是整个窗口，且需要把 margin 计算在内\n考虑兼容性，建议使用别名；rtl 模式下同 scroll 系列一样为负值")])])])])]),e._v(" "),o("li",[e._v("行内元素的 client 系列与 scroll 系列值均为 0，offset 系列值正常计算")]),e._v(" "),o("li",[e._v("除了"),o("code",[e._v("scrollLeft、scrollTop")]),e._v("在使用显示比例缩放的系统上可能会是一个小数，其他属性均为四舍五入的整数。")])]),e._v(" "),o("p",[e._v("建议使用"),o("code",[e._v("Element.getBoundingClientRect()")]),e._v("获取位置属性，结果为相对于页面文档流起点方向的小数（MDN 中说现代浏览器对于返回结果能够修改，但测试发现修改没有效果）")]),e._v(" "),o("p",[e._v("如果获取元素是否出现在页面中，还可以使用 IntersectionObserver，更方便且性能更佳，在我"),o("a",{attrs:{href:"https://juejin.cn/post/7038895741686792206",target:"_blank",rel:"noopener noreferrer"}},[e._v("另一篇文章"),o("OutboundLink")],1),e._v("里有相关介绍")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b95dd5f7e24405893fbe5ff9980f26d~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),o("h2",{attrs:{id:"比较有意思的点"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#比较有意思的点"}},[e._v("#")]),e._v(" 比较有意思的点")]),e._v(" "),o("ol",[o("li",[e._v("无论是"),o("code",[e._v("content-box")]),e._v("还是"),o("code",[e._v("border-box")]),e._v(",滚动条始终抢用"),o("code",[e._v("content")]),e._v("像素位置。"),o("code",[e._v("padding")]),e._v("在滚动条内侧，大小不变；")]),e._v(" "),o("li",[e._v("浏览器计算位置数值会把被溢出隐藏的 padding 部分提到 content 盒子内计算（看下面的图）")]),e._v(" "),o("li",[e._v("谷歌浏览器滚动条默认 17px，body 的 margin 默认 8px")])]),e._v(" "),o("p",[e._v("浏览器开发者工具中显示的数值与上述属性得到的值一致，但页面显示中因为被滚动条挤压，"),o("code",[e._v("content")]),e._v("实际像素可能小于计算数值")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("box-sizing=content-box")]),e._v("时，"),o("code",[e._v("content")]),e._v("等于"),o("code",[e._v("width或height - 滚动条")]),e._v("，开发者工具指示区域实际像素等于开发者工具显示数值;")]),e._v(" "),o("li",[o("code",[e._v("box-sizing=border-box")]),e._v("时，"),o("code",[e._v("content")]),e._v("等于"),o("code",[e._v("width - border*2 - padding*2 - 滚动条")]),e._v("，开发者工具指示区域实际像素小于开发者工具显示数值。")])]),e._v(" "),o("p",[o("code",[e._v("box-sizing = content-box 时：")])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7442e4f658e64bb18a574a473e16734b~tplv-k3u1fbpfcp-watermark.image?",alt:"content-box"}})]),e._v(" "),o("p",[o("code",[e._v("boxsizing = border-box 时：")])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b79202db7bb4cf1b9255c2bd99b2636~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])])}),[],!1,null,null,null);t.default=_.exports}}]);